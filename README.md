# Flare

Solid meta-framework for the web. SSR or CSR, HTML or NDJSON, stream or await. Deploy anywhere JS runs.

## Table of Contents

- [Why Flare](#why-flare)
  - [Comparison](#comparison)
  - [When to Use Flare](#when-to-use-flare)
- [Overview](#overview)
  - [Architecture](#architecture)
  - [Key Features](#key-features)
- [Deployment](#deployment)
- [Installation](#installation)
- [Configuration](#configuration)
  - [Environment Variables](#environment-variables)
  - [Path Aliases](#path-aliases)
- [Entry Points](#entry-points)
  - [Server Entry](#server-entry)
  - [Client Entry](#client-entry)
- [Quick Start](#quick-start)
- [Build and Development](#build-and-development)
  - [Vite Plugin](#vite-plugin)
  - [Dev Server](#dev-server)
  - [HMR](#hmr)
  - [Build Modes](#build-modes)
- [Core Concepts](#core-concepts)
  - [Virtual Paths](#virtual-paths)
  - [Route Factories](#route-factories)
    - [createRootLayout](#createrootlayout)
    - [createLayout](#createlayout)
    - [createPage](#createpage)
  - [Builder Chain](#builder-chain)
  - [Location Object](#location-object)
- [Builder Methods](#builder-methods)
  - [options](#options)
  - [input](#input)
  - [effects](#effects)
  - [head](#head)
  - [headers](#headers)
  - [render](#render)
  - [errorRender](#errorrender-1)
  - [notFoundRender](#notfoundrender-1)
  - [response](#response)
- [Rendering](#rendering)
  - [SSR](#ssr)
  - [CSR](#csr)
- [Streaming](#streaming)
  - [defer Helper](#defer-helper)
  - [Await Component](#await-component)
  - [Stream vs Await](#stream-vs-await)
- [Router](#router)
  - [Route Matching](#route-matching)
  - [Router State](#router-state)
- [Navigation](#navigation)
  - [Hard vs Framework](#hard-vs-framework)
  - [NDJSON Mode](#ndjson-mode)
  - [HTML Mode](#html-mode)
  - [Link Component](#link-component)
  - [Prefetch Strategies](#prefetch-strategies)
  - [Programmatic Navigation](#programmatic-navigation)
  - [Shallow Navigation](#shallow-navigation)
  - [View Transitions](#view-transitions)
  - [Scroll Restoration](#scroll-restoration)
  - [Navigation Blocking](#navigation-blocking)
- [Authentication and Authorization](#authentication-and-authorization)
  - [authorizeFn](#authorizefn)
  - [authorize Method](#authorize-method)
  - [Auth Inheritance](#auth-inheritance)
- [Data Loading](#data-loading)
  - [Preloaders](#preloaders)
  - [Loaders](#loaders)
  - [Loader Context](#loader-context)
  - [Match ID](#match-id)
  - [Cache and Staleness](#cache-and-staleness)
  - [Invalidation](#invalidation)
- [TanStack Query Integration](#tanstack-query-integration)
  - [Tracked QueryClient](#tracked-queryclient)
  - [Auto-Serialization](#auto-serialization)
  - [Auto-Hydration](#auto-hydration)
- [Hydration](#hydration)
  - [self.flare State](#selfflare-state)
  - [SSR to Client Handoff](#ssr-to-client-handoff)
  - [Match Cache Population](#match-cache-population)
  - [QueryClient Hydration](#queryclient-hydration)
- [Server Handler](#server-handler)
  - [Configuration](#configuration)
  - [Router Defaults](#router-defaults)
- [Middleware](#middleware)
  - [Built-in Middlewares](#built-in-middlewares)
- [Server Functions](#server-functions)
  - [createServerFn](#createserverfn)
  - [TanStack Query Helpers](#tanstack-query-helpers)
- [Contexts](#contexts)
  - [MiddlewareContext](#middlewarecontext)
  - [ServerRequestContext](#serverrequestcontext)
  - [PreloaderContext](#preloadercontext)
  - [RouterContext](#routercontext)
  - [getServerRequest](#getserverrequest)
  - [getServerNonce](#getservernonce)
- [Error Handling](#error-handling)
  - [Error Classes](#error-classes)
  - [errorRender](#errorrender)
  - [notFoundRender](#notfoundrender)
  - [Unauthenticated](#unauthenticated)
  - [Unauthorized](#unauthorized)
  - [Redirect](#redirect)
- [Security](#security)
  - [Nonce](#nonce)
  - [CSP](#csp)
- [Type Safety](#type-safety)
  - [Full Route Tree Types](#full-route-tree-types)
  - [Path Validation](#path-validation)
  - [Param and Search Inference](#param-and-search-inference)
  - [Preloader Context Chain](#preloader-context-chain)
  - [Generated Types](#generated-types)
- [Styling](#styling)
  - [css Prop](#css-prop)
  - [tw Prop](#tw-prop)
  - [Tailwind Integration](#tailwind-integration)
  - [Page Scoped CSS](#page-scoped-css)
  - [ResetCSS](#resetcss)
  - [ThemeScript](#themescript)
  - [View Transitions CSS](#view-transitions-css)
  - [Optimization and Minification](#optimization-and-minification)
  - [styles Function](#styles-function)
  - [State and Vars](#state-and-vars)
- [Head Management](#head-management)
- [SEO](#seo)
  - [Meta Tags](#meta-tags)
  - [Open Graph](#open-graph)
  - [Structured Data](#structured-data)
- [Lazy Loading](#lazy-loading)
  - [lazy](#lazy)
  - [clientLazy](#clientlazy)
  - [preload](#preload)
- [Components](#components)
  - [Link](#link)
  - [Outlet](#outlet)
  - [Await](#await)
  - [HeadContent](#headcontent)
  - [Scripts](#scripts)
- [Hooks](#hooks)
  - [useLocation](#uselocation)
  - [useParams](#useparams)
  - [useSearch](#usesearch)
  - [useRouter](#userouter)
  - [useMatch](#usematch)
  - [useMatches](#usematches)
  - [useLoaderData](#useloaderdata)
  - [usePreloaderContext](#usepreloadercontext)
  - [useHydrated](#usehydrated)
  - [useBlocker](#useblocker)
  - [useScrollRestore](#usescrollrestore)
- [Testing](#testing)
  - [Route Segment Testing](#route-segment-testing)
  - [Mock Utilities](#mock-utilities)
  - [Integration Testing](#integration-testing)
- [Bundle Optimization](#bundle-optimization)
  - [Granular Exports](#granular-exports)
  - [Tree Shaking](#tree-shaking)
  - [Bundle Analysis](#bundle-analysis)
- [Code Generation](#code-generation)
  - [Route Trees](#route-trees)
  - [Type Declarations](#type-declarations)
- [License](#license)
